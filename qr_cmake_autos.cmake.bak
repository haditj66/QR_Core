#THIS IS    A GENERATRED FILE. DONT MODIFY IT HERE. MODIFY it in the generatedfiles ".in" file

#this is the cmake file that runs (AUTOMATICALLY ON Find_Package(qr_core) )  when other projects link to this project.

# Default to C99
if(NOT CMAKE_C_STANDARD)
  set(CMAKE_C_STANDARD 99)
endif()

# Default to C++14
if(NOT CMAKE_CXX_STANDARD)
  set(CMAKE_CXX_STANDARD 14)
endif()

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

 


if(WIN32)
    set(QR_CORE_DIR C:/QR_Sync/QR_Core)
    set(QR_CORE_INSTALL_DIR )

    include(${QR_CORE_DIR}/cmake/QR_Templates.cmake)
else()
    set(QR_CORE_DIR /home/user/Documents/QR_stuff/QR_Core)
    set(QR_CORE_INSTALL_DIR C:/QR_Sync/QR_Core/install/qr_core/share/qr_core)

    #set(CMAKE_CURRENT_BINARY_DIR ${CMAKE_CURRENT_SOURCE_DIR}/build/linux)
endif()


include(${QR_CORE_INSTALL_DIR}/cmake/QR_Templates.cmake)

include(${QR_CORE_INSTALL_DIR}/cmake/MultiParameterTemplate.cmake)

include(${QR_CORE_INSTALL_DIR}/cmake/QR_Core.cmake)

#QR_project()

#if the project type is an interface, dont allow it to use cgen as there shouldnt be a need for it
if( QR_PROJECT_TYPE  STREQUAL "INTERFACE")
#do nothing
message("CGEN Not being used for interface project ${PROJECT_NAME}")
set(ISForQT FALSE)

else()
    #set(CMAKE_BUILD_TYPE "")

    #endif()
    include("${QR_CORE_INSTALL_DIR}/cmake/CgenCmakeConfigFunctions.cmake")
    Cgen_Start(
        CGEN_DIRECTORY_OF_CACHE "GenericConfig"
        )


#any options presented here will be global options that all QR projects must configure
#however make sure to set the option in the if statement above in case it is used in other places.
    Cgen_Option(
            NAME ISForQT
            DESCRIPTION "is this for QT or for a bare ROS project."
            POSSIBLEVALUES TRUE FALSE
            CONSTRICTS_LATER_OPTIONS
    )


endif()





#generate the Config file from the generated files folder for Config.in.
QR_Generate_File(
        WORKINGDIRECTORYOFINPUTFILE ${QR_CORE_DIR}
        WORKINGDIRECTORYOFOUTPUTFILE ${CMAKE_CURRENT_SOURCE_DIR}/include/${PROJECT_NAME}
        INPUT_FILE_NAME Config
        OUTPUT_FILE_NAME Config
        OUTPUT_FILE_EXTENSION hpp
)


#generate the visibiliry control file from the generated files folder for visibility_control.in.
QR_Generate_File(
        WORKINGDIRECTORYOFINPUTFILE ${QR_CORE_DIR}
        WORKINGDIRECTORYOFOUTPUTFILE ${CMAKE_CURRENT_SOURCE_DIR}/include/${PROJECT_NAME}
        INPUT_FILE_NAME visibility_control
        OUTPUT_FILE_NAME visibility_control
        OUTPUT_FILE_EXTENSION h
)





#Generate_File_Using_Cgen(
#                INPUT_DIRECTORY ${QR_CORE_DIR}/GeneratedFiles
#        OUTPUT_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/src
#        INPUT_FILE_NAME testcgen
#        OUTPUT_FILE_NAME testFromCgen2
#        OUTPUT_FILE_EXTENSION .cpp
#)


#option(ISForQT "is this for QT or for a bare ROS project." FALSE)
#add_compile_definitions(ISForQT__${ISForQT})


