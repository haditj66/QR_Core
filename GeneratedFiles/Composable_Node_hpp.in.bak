#pragma once

/*****************************************************************************
** Includes a
*****************************************************************************/


#ifdef ISForQT__ON
//*******DONT INCLUDE THIS!! this will cause some circular dependency with undefined behaviours and bugs
//#include "../include/MyQtHeaders/main_window.hpp"
#include "ui_main_window.h"
#include <QMainWindow>
#endif

#include "Config.hpp"

//ROS2
#include "rclcpp/rclcpp.hpp"
//#include "nav_msgs/msg/odometry.hpp"
//#include "image_transport/image_transport.hpp"
//#include "geometry_msgs/msg/twist.hpp"
#include "std_msgs/msg/string.hpp"

//*********************
//** Publishers headers
//**********************
@PUBLISHER_HEADER_MP@


//CPP
#include <chrono>
#include <memory>
#include <functional>
#include <string>



/*****************************************************************************
** Namespaces
*****************************************************************************/

namespace PROJECT_NAME {
using std::placeholders::_1;


  /*****************************************************************************
  ** Class
  *****************************************************************************/
  class @NAME_OF_NODE@ : public rclcpp::Node
  {
  public:


      //COMPOSITION_PUBLIC
      explicit @NAME_OF_NODE@ (const rclcpp::NodeOptions & options);

      //MyNode();
      virtual ~@NAME_OF_NODE@ ();


      //void topic_callback(const sensor_msgs::msg::Image::SharedPtr msg) const;


  private:
      rclcpp::TimerBase::SharedPtr timer_;



      /*********************
      ** Publishers
      **********************/  //rclcpp::Publisher<@TYPE_OF_EVENT@>::SharedPtr pub_;
      @PUBLISHER_MP@

      /*********************
      ** Subscribers
      **********************/
      @SUBSCRIBER_MP@


      //*********************


      /*********************
      ** Subscriber callback declarations
      **********************/
       @SUBSCRIBER_CALLBACK_DECLARATION_MP@

       //*********************


      //rclcpp::Subscription<sensor_msgs::msg::Image>::SharedPtr subscription_;
      //rclcpp::Publisher<geometry_msgs::msg::Twist>::SharedPtr sim_velocity;

      void timer_callback()
        {
          auto message = @TYPE_OF_EVENT@();
          //message.data = "this is pulished by minimal publisher: " + std::to_string(5);
          //RCLCPP_INFO(this->get_logger(), "Publishing: '%s'", message.data.c_str());

          //publish message
          pub_->publish(message);
        }
  };

} // namespace
